# TJA Editor

太鼓さん次郎（Taikojiro）用の .tja 譜面ファイルを快適に編集するための、国産フル機能 GUI エディタです。

このリポジトリの `tja_sample.py` は、最初に提供されたコードを**基本的にそのまま**公開していますが、  
**バグ修正・動作改善・依存ライブラリの更新など、明らかな誤りや実用上の問題がある場合は、積極的に修正を加えています**。  
修正履歴はコミットログおよび下記の「変更履歴」に記載します。

## 主な特徴

- 行番号付きテキストエディタ（リアルタイムで正確に同期）
- リアルタイム構文エラーチェック（カンマ欠落検出・コメント除外・行ジャンプ機能付き）
- OFFSET 自動測定（初ドン音検出＋波形表示による精密調整）
- WAVE ファイルから BPM 自動取得（librosa 使用）
- 段位道場 TJA 一括生成（3曲対応・共通／個別合格条件・BALLOON 順序完全再現）
- ダークモード（Ctrl+D で即時切り替え・設定保存対応）
- 最近使ったファイル（最大10件）
- 太鼓さん次郎直接起動プレビュー（F5キー）
- 上書き保存時に自動バックアップ作成（.backup フォルダにタイムスタンプ付き）
- 文字エンコーディング自動判定（Shift_JIS / UTF-8 等）

## 必要環境

- Python 3.8 以上

基本機能は標準ライブラリのみで動作します。

### オプション機能を使う場合（強くおすすめ）

```bash
pip install pydub librosa numpy matplotlib chardet
※ pydub は ffmpeg が必要です（Windows の場合は PATH に追加してください）
```
```
起動方法
python tja_sample.py
```
ショートカットキー
キー,機能
Ctrl+O,ファイルを開く
Ctrl+S,上書き保存
Ctrl+Shift+S,名前を付けて保存
Ctrl+F,検索
Ctrl+D,ダークモード切替
Ctrl+E,構文エラーチェック
F5,太鼓さん次郎でプレビュー

ライセンス
MIT License
自由に使用・改変・再配布していただけます。
修正版を公開される場合は、本リポジトリへの言及をしていただけると嬉しいです。

貢献歓迎！

・バグ報告
・機能追加提案
・プルリクエスト（特に動作改善・UI改善・Python最新版対応）

すべて大歓迎です！
一緒にこのエディタをより使いやすくしていきましょう！
